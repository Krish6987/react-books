{"ast":null,"code":"var _jsxFileName = \"/home/ec2-user/recat3.00/react-books/src/AddBook.js\";\nimport React, { Component } from 'react';\nimport { Input, Card, CardBody, CardTitle, FormGroup, Label, Table, Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport axios from 'axios';\nimport Header from \"./Header.js\";\nimport \"./style.css\";\n\nclass ViewBook extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      Books: [],\n      search: \"\",\n      newBookData: {\n        title: '',\n        author: '',\n        isbn: '',\n        publicationDate: '',\n        publisher: '',\n        price: '',\n        genre: '',\n        format: ''\n      },\n      editBookData: {\n        id: '',\n        title: '',\n        author: '',\n        isbn: '',\n        publicationDate: '',\n        publisher: '',\n        price: '',\n        genre: '',\n        format: ''\n      },\n      newBookModal: false,\n      editBookModal: false\n    };\n  }\n\n  /*renderBooks = books => {\r\n    const { search } = this.state.search;\r\n      var name = books.title.toLowerCase();\r\n      /*if( search !== \"\" && books.title.toLowerCase().indexOf( search.toLowerCase() ) === -1 ){\r\n        return null\r\n    }\r\n    return (\r\n      <div className=\"col-md-3\" style={{ marginTop: \"20px\" }}>\r\n        <Card>\r\n          <CardBody>\r\n            <CardTitle title={books.name}>\r\n              {books.title.substring(0, 15)}\r\n              {books.title.length > 15 && \"...\"}\r\n            </CardTitle>\r\n          </CardBody>\r\n        </Card>\r\n      </div>\r\n    );\r\n  };\r\n    onchange = e => {\r\n    this.setState({ search: e.target.value });\r\n  }\r\n   */\n  componentWillMount() {\n    axios.get('http://localhost:3003/Books').then(response => {\n      this.setState({\n        Books: response.data\n      });\n    });\n  }\n\n  toggleNewBookModal() {\n    this.setState({\n      newBookModal: !this.state.newBookModal\n    });\n  }\n\n  toggleeditBookModal() {\n    this.setState({\n      editBookModal: !this.state.editBookModal\n    });\n  }\n\n  addBook() {\n    axios.post('http://localhost:3003/Books', this.state.newBookData).then(response => {\n      let Books = this.state.Books;\n      Books.push(response.data);\n      this.setState({\n        Books,\n        newBookModal: false,\n        newBookData: {\n          title: '',\n          author: '',\n          isbn: '',\n          publicationDate: '',\n          publisher: '',\n          price: '',\n          genre: '',\n          format: ''\n        }\n      });\n    });\n  }\n\n  deleteBook(id) {\n    axios.delete('http://localhost:3003/Books/' + id).then(response => {\n      this._refreshBooks();\n    });\n  }\n\n  updateBook() {\n    let _this$state$editBookD = this.state.editBookData,\n        title = _this$state$editBookD.title,\n        author = _this$state$editBookD.author,\n        isbn = _this$state$editBookD.isbn,\n        publicationDate = _this$state$editBookD.publicationDate,\n        publisher = _this$state$editBookD.publisher,\n        price = _this$state$editBookD.price,\n        genre = _this$state$editBookD.genre,\n        format = _this$state$editBookD.format;\n    axios.put('http://localhost:3003/Books/' + this.state.editBookData.id, {\n      title,\n      author,\n      isbn,\n      publicationDate,\n      publisher,\n      price,\n      genre,\n      format\n    }).then(response => {\n      this._refreshBooks();\n\n      this.setState({\n        editBookModal: false,\n        editBookData: {\n          id: '',\n          title: '',\n          author: '',\n          isbn: '',\n          publicationDate: '',\n          publisher: '',\n          price: '',\n          genre: '',\n          format: ''\n        }\n      });\n    });\n  }\n\n  editBook(id, title, author, isbn, publicationDate, publisher, price, genre, format) {\n    this.setState({\n      editBookData: {\n        id,\n        title,\n        author,\n        isbn,\n        publicationDate,\n        publisher,\n        price,\n        genre,\n        format\n      },\n      editBookModal: !this.state.editBookModal\n    });\n  }\n\n  _refreshBooks() {\n    axios.get('http://localhost:3003/Books').then(response => {\n      this.setState({\n        Books: response.data\n      });\n    });\n  }\n\n  render() {\n    let Bookss = this.state.Books.map(x => {\n      return React.createElement(\"tr\", {\n        key: x.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, x.title), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, x.author), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, x.isbn), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, x.publicationDate), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, x.publisher), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, x.price, \"  \"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, x.genre, \" \"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, x.format), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, React.createElement(Button, {\n        color: \"success\",\n        size: \"sm\",\n        className: \"mr-2\",\n        onClick: this.editBook.bind(this, x.id, x.title, x.author, x.isbn, x.publicationDate, x.publisher, x.price, x.genre, x.format),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, \"Update\"), React.createElement(Button, {\n        color: \"danger\",\n        size: \"sm\",\n        onClick: this.deleteBook.bind(this, x.id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, \"Delete\")));\n    });\n    /*const { search } = this.state.search;\r\n    const B = Bookss.filter(b => {\r\n     return b.title.indexOf(search) !== -1;\r\n    });*/\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"myBox\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, React.createElement(Button, {\n      color: \"primary\",\n      onClick: this.toggleNewBookModal.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, \"Add book\")), React.createElement(\"div\", {\n      className: \"App Container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, React.createElement(Modal, {\n      isOpen: this.state.editBookModal,\n      toggle: this.toggleeditBookModal.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, React.createElement(ModalHeader, {\n      toggle: this.toggleeditBookModal.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, \"Edit Book data\"), React.createElement(ModalBody, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, React.createElement(FormGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, React.createElement(Label, {\n      for: \"title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, \"title \"), React.createElement(Input, {\n      id: \"title\",\n      value: this.state.editBookData.title,\n      onChange: e => {\n        let editBookData = this.state.editBookData;\n        editBookData.title = e.target.value;\n        this.setState({\n          editBookData\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }), React.createElement(Label, {\n      for: \"author\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, \"author \"), React.createElement(Input, {\n      id: \"author\",\n      value: this.state.editBookData.author,\n      onChange: e => {\n        let editBookData = this.state.editBookData;\n        editBookData.author = e.target.value;\n        this.setState({\n          editBookData\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }), React.createElement(Label, {\n      for: \"isbn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, \"isbn\"), React.createElement(Input, {\n      id: \"isbn\",\n      value: this.state.editBookData.isbn,\n      onChange: e => {\n        let editBookData = this.state.editBookData;\n        editBookData.isbn = e.target.value;\n        this.setState({\n          editBookData\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }), React.createElement(Label, {\n      for: \"publicationDate\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }, \"publicationDate \"), React.createElement(Input, {\n      id: \"publicationDate\",\n      value: this.state.editBookData.publicationDate,\n      onChange: e => {\n        let editBookData = this.state.editBookData;\n        editBookData.publicationDate = e.target.value;\n        this.setState({\n          editBookData\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    }), React.createElement(Label, {\n      for: \"publisher\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }, \"publisher \"), React.createElement(Input, {\n      id: \"publisher\",\n      value: this.state.editBookData.publisher,\n      onChange: e => {\n        let editBookData = this.state.editBookData;\n        editBookData.publisher = e.target.value;\n        this.setState({\n          editBookData\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }), React.createElement(Label, {\n      for: \"price\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }, \"price\"), React.createElement(Input, {\n      id: \"price\",\n      value: this.state.editBookData.price,\n      onChange: e => {\n        let editBookData = this.state.editBookData;\n        editBookData.price = e.target.value;\n        this.setState({\n          editBookData\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }), React.createElement(Label, {\n      for: \"genre\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }, \"genre \"), React.createElement(Input, {\n      id: \"genre\",\n      value: this.state.editBookData.genre,\n      onChange: e => {\n        let editBookData = this.state.editBookData;\n        editBookData.genre = e.target.value;\n        this.setState({\n          editBookData\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213\n      },\n      __self: this\n    }), React.createElement(Label, {\n      for: \"format\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218\n      },\n      __self: this\n    }, \"format\"), React.createElement(Input, {\n      id: \"format\",\n      value: this.state.editBookData.format,\n      onChange: e => {\n        let editBookData = this.state.editBookData;\n        editBookData.format = e.target.value;\n        this.setState({\n          editBookData\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    }))), React.createElement(ModalFooter, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    }, React.createElement(Button, {\n      color: \"primary\",\n      onClick: this.updateBook.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }, \"Update Book\"), ' ', React.createElement(Button, {\n      color: \"secondary\",\n      onClick: this.toggleeditBookModal.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228\n      },\n      __self: this\n    }, \"Cancel\")))));\n  }\n\n}\n\nexport default ViewBook;","map":{"version":3,"sources":["/home/ec2-user/recat3.00/react-books/src/AddBook.js"],"names":["React","Component","Input","Card","CardBody","CardTitle","FormGroup","Label","Table","Button","Modal","ModalHeader","ModalBody","ModalFooter","axios","Header","ViewBook","state","Books","search","newBookData","title","author","isbn","publicationDate","publisher","price","genre","format","editBookData","id","newBookModal","editBookModal","componentWillMount","get","then","response","setState","data","toggleNewBookModal","toggleeditBookModal","addBook","post","push","deleteBook","delete","_refreshBooks","updateBook","put","editBook","render","Bookss","map","x","bind","e","target","value"],"mappings":"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","sourcesContent":["import React,{Component} from 'react';\r\nimport {Input,Card,CardBody,CardTitle,FormGroup,Label,Table,Button,Modal,ModalHeader,ModalBody,ModalFooter} from 'reactstrap';\r\nimport axios from 'axios';\r\nimport Header from \"./Header.js\"\r\nimport \"./style.css\"\r\n\r\n\r\n\r\nclass ViewBook extends Component{\r\n  state={\r\n    Books:[] ,\r\n    search:\"\",\r\n    newBookData:{\r\n      \r\n      title:'',author:'',isbn:'',publicationDate:'',publisher:'',price:'',genre:'',format:''\r\n    },\r\n    editBookData:{\r\n      id:'',title:'',author:'',isbn:'',publicationDate:'',publisher:'',price:'',genre:'',format:''\r\n    },\r\n    newBookModal: false,\r\n    editBookModal: false\r\n    \r\n  }\r\n  /*renderBooks = books => {\r\n    const { search } = this.state.search;\r\n\r\n    var name = books.title.toLowerCase();\r\n\r\n    /*if( search !== \"\" && books.title.toLowerCase().indexOf( search.toLowerCase() ) === -1 ){\r\n        return null\r\n    }\r\n    return (\r\n      <div className=\"col-md-3\" style={{ marginTop: \"20px\" }}>\r\n        <Card>\r\n          <CardBody>\r\n            <CardTitle title={books.name}>\r\n              {books.title.substring(0, 15)}\r\n              {books.title.length > 15 && \"...\"}\r\n            </CardTitle>\r\n          </CardBody>\r\n        </Card>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  onchange = e => {\r\n    this.setState({ search: e.target.value });\r\n  }\r\n\r\n */\r\n  componentWillMount(){\r\n    axios.get('http://localhost:3003/Books').then((response)=>{\r\n      this.setState({\r\n        Books:response.data\r\n      })\r\n    })\r\n  }\r\n  \r\n  toggleNewBookModal() {\r\n    this.setState({newBookModal:!this.state.newBookModal});\r\n  }\r\n  toggleeditBookModal() {\r\n    this.setState({editBookModal:!this.state.editBookModal});\r\n  }\r\n  addBook(){\r\n  \r\n    axios.post('http://localhost:3003/Books', this.state.newBookData).then((response)=>{\r\n    let{Books}=this.state;\r\n    Books.push(response.data);\r\n    this.setState({Books,newBookModal:false,\r\n      newBookData:{\r\n      \r\n        title:'',\r\n        author:'',\r\n        isbn:'',\r\n        publicationDate:'',\r\n        publisher:'',\r\n        price:'',\r\n        genre:'',\r\n        format:''\r\n      },});\r\n  }\r\n    );\r\n  }\r\n  deleteBook(id){\r\n    axios.delete('http://localhost:3003/Books/' +id).then((response)=>{\r\n      this._refreshBooks();\r\n    })\r\n  }\r\n  updateBook(){\r\n    let{title,author,isbn,publicationDate,publisher,price,genre,format}=this.state.editBookData;\r\n    axios.put('http://localhost:3003/Books/' +this.state.editBookData.id,{title,author,isbn,publicationDate,publisher,price,genre,format}).then((response)=>{\r\n    \r\n      this._refreshBooks();\r\n      this.setState({editBookModal:false,editBookData:{id:'', title:'',\r\n      author:'',\r\n      isbn:'',\r\n      publicationDate:'',\r\n      publisher:'',\r\n      price:'',\r\n      genre:'',\r\n      format:''}})\r\n  }\r\n    );\r\n  }\r\n    \r\n  \r\n  editBook(id,title, author,isbn,publicationDate,publisher,price,genre,format){\r\n      this.setState({\r\n       editBookData : {\r\n          id,title,author,isbn,publicationDate,publisher,price,genre,format\r\n\r\n        },editBookModal:!this.state.editBookModal}\r\n      );\r\n\r\n    }\r\n    _refreshBooks(){\r\n      axios.get('http://localhost:3003/Books').then((response)=>{\r\n      this.setState({\r\n        Books:response.data\r\n      })\r\n    })\r\n    }\r\n    \r\n  render(){\r\n   \r\n\r\n    let Bookss=this.state.Books.map((x)=>{\r\n\r\n      return(\r\n        \r\n        <tr key={x.id}>\r\n        \r\n         \r\n        <td>{x.title}</td>\r\n        <td>{x.author}</td>\r\n        <td>{x.isbn }</td>\r\n        <td>{x.publicationDate  }</td>\r\n        <td>{x.publisher  }</td>\r\n        <td>{x.price}  </td>\r\n        <td>{x.genre} </td>\r\n        <td>{x.format}</td>\r\n        <td>\r\n          <Button color=\"success\" size=\"sm\" className=\"mr-2\" onClick={this.editBook.bind(this,x.id,x.title,x.author,x.isbn,x.publicationDate,x.publisher,x.price,x.genre,x.format)}>Update</Button>\r\n          <Button color=\"danger\" size=\"sm\" onClick={this.deleteBook.bind(this,x.id)}>Delete</Button>\r\n        </td>\r\n        \r\n      </tr>\r\n      )\r\n\r\n    }\r\n    );\r\n     /*const { search } = this.state.search;\r\n    const B = Bookss.filter(b => {\r\n      return b.title.indexOf(search) !== -1;\r\n    });*/\r\n    return(\r\n      <div>\r\n      \r\n      <div id=\"myBox\">\r\n      <Button color=\"primary\" onClick={this.toggleNewBookModal.bind(this)}>Add book</Button>\r\n        </div>\r\n          \r\n\r\n\r\n    <div className=\"App Container\">\r\n      \r\n      \r\n       \r\n        \r\n        <Modal isOpen={this.state.editBookModal} toggle={this.toggleeditBookModal.bind(this)} >\r\n          <ModalHeader toggle={this.toggleeditBookModal.bind(this)}>Edit Book data</ModalHeader>\r\n          <ModalBody>\r\n            <FormGroup>      \r\n                  \r\n                  <Label for=\"title\">title </Label>\r\n                  <Input id=\"title\" value={this.state.editBookData.title} onChange={(e)=>{\r\n                    let {editBookData}=this.state;\r\n                    editBookData.title=e.target.value;\r\n                    this.setState({editBookData});\r\n                  }}/>\r\n                  <Label for=\"author\">author </Label>\r\n                  <Input id=\"author\" value={this.state.editBookData.author} onChange={(e)=>{\r\n                    let {editBookData}=this.state;\r\n                    editBookData.author=e.target.value;\r\n                    this.setState({editBookData});\r\n                  }}/>\r\n                  <Label for=\"isbn\">isbn</Label>\r\n                  <Input id=\"isbn\"value={this.state.editBookData.isbn} onChange={(e)=>{\r\n                    let {editBookData}=this.state;\r\n                    editBookData.isbn=e.target.value;\r\n                    this.setState({editBookData});\r\n                  }}/>\r\n                  <Label for=\"publicationDate\">publicationDate </Label>\r\n                  <Input id=\"publicationDate\"value={this.state.editBookData.publicationDate} onChange={(e)=>{\r\n                    let {editBookData}=this.state;\r\n                    editBookData.publicationDate=e.target.value;\r\n                    this.setState({editBookData});\r\n                  }}/>\r\n                   <Label for=\"publisher\">publisher </Label>\r\n                  <Input id=\"publisher\"value={this.state.editBookData.publisher} onChange={(e)=>{\r\n                    let {editBookData}=this.state;\r\n                    editBookData.publisher=e.target.value;\r\n                    this.setState({editBookData});\r\n                  }}/>\r\n                  <Label for=\"price\">price</Label>\r\n                  <Input id=\"price\"value={this.state.editBookData.price} onChange={(e)=>{\r\n                    let {editBookData}=this.state;\r\n                    editBookData.price=e.target.value;\r\n                    this.setState({editBookData});\r\n                  }}/>\r\n                  <Label for=\"genre\">genre </Label>\r\n                  <Input id=\"genre\"value={this.state.editBookData.genre} onChange={(e)=>{\r\n                    let {editBookData}=this.state;\r\n                    editBookData.genre=e.target.value;\r\n                    this.setState({editBookData});\r\n                  }}/>\r\n                  <Label for=\"format\">format</Label>\r\n                  <Input id=\"format\"value={this.state.editBookData.format} onChange={(e)=>{\r\n                    let {editBookData}=this.state;\r\n                    editBookData.format=e.target.value;\r\n                    this.setState({editBookData});\r\n                  }}/>\r\n            </FormGroup>\r\n          </ModalBody>\r\n          <ModalFooter>\r\n            <Button color=\"primary\" onClick={this.updateBook.bind(this)}>Update Book</Button>{' '}\r\n            <Button color=\"secondary\" onClick={this.toggleeditBookModal.bind(this)}>Cancel</Button>\r\n          </ModalFooter>\r\n        </Modal>\r\n     \r\n      </div></div>);\r\n  }\r\n}\r\nexport default ViewBook;\r\n"]},"metadata":{},"sourceType":"module"}